{
  "info": {
    "_postman_id": "payment-echo-system-v1",
    "name": "Payment Echo System API v1",
    "description": "Complete API collection for Payment Echo System with filtering, pagination, and i18n support. All requests include test scripts and auto-extract IDs. CRUD operations ready to test.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "payment-echo-system"
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-fetch IDs if variables are not set",
          "if (!pm.collectionVariables.get('creditorId')) {",
          "    console.log('Auto-fetching creditorId...');",
          "    pm.sendRequest({",
          "        url: pm.collectionVariables.get('baseUrl') + '/api/v1/creditors?page=0&size=1',",
          "        method: 'GET'",
          "    }, function (err, res) {",
          "        if (!err && res.code === 200) {",
          "            var data = res.json();",
          "            if (data.creditors && data.creditors.length > 0) {",
          "                pm.collectionVariables.set('creditorId', data.creditors[0].id);",
          "                console.log('Set creditorId:', data.creditors[0].id);",
          "            }",
          "        }",
          "    });",
          "}",
          "",
          "if (!pm.collectionVariables.get('debtorId')) {",
          "    console.log('Auto-fetching debtorId...');",
          "    pm.sendRequest({",
          "        url: pm.collectionVariables.get('baseUrl') + '/api/v1/debtors?page=0&size=1',",
          "        method: 'GET'",
          "    }, function (err, res) {",
          "        if (!err && res.code === 200) {",
          "            var data = res.json();",
          "            if (data.debtors && data.debtors.length > 0) {",
          "                pm.collectionVariables.set('debtorId', data.debtors[0].id);",
          "                console.log('Set debtorId:', data.debtors[0].id);",
          "            }",
          "        }",
          "    });",
          "}",
          "",
          "if (!pm.collectionVariables.get('paymentId')) {",
          "    console.log('Auto-fetching paymentId...');",
          "    pm.sendRequest({",
          "        url: pm.collectionVariables.get('baseUrl') + '/api/v1/payments?page=0&size=1',",
          "        method: 'GET'",
          "    }, function (err, res) {",
          "        if (!err && res.code === 200) {",
          "            var data = res.json();",
          "            if (data.payments && data.payments.length > 0) {",
          "                pm.collectionVariables.set('paymentId', data.payments[0].id);",
          "                console.log('Set paymentId:', data.payments[0].id);",
          "            }",
          "        }",
          "    });",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "Setup - Get IDs First",
      "item": [
        {
          "name": "1. Get All Creditors (Sets creditorId)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.creditors && jsonData.creditors.length > 0) {",
                  "        pm.collectionVariables.set('creditorId', jsonData.creditors[0].id);",
                  "        console.log('✅ Set creditorId:', jsonData.creditors[0].id);",
                  "        console.log('Creditor:', jsonData.creditors[0].name);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors?page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "⚠️ RUN THIS FIRST to set {{creditorId}} variable. This is required for Create Payment (with IDs) and Delete Creditor requests."
          }
        },
        {
          "name": "2. Get All Debtors (Sets debtorId)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.debtors && jsonData.debtors.length > 0) {",
                  "        pm.collectionVariables.set('debtorId', jsonData.debtors[0].id);",
                  "        console.log('✅ Set debtorId:', jsonData.debtors[0].id);",
                  "        console.log('Debtor:', jsonData.debtors[0].name);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors?page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "⚠️ RUN THIS SECOND to set {{debtorId}} variable. This is required for Create Payment (with IDs) and Delete Debtor requests."
          }
        },
        {
          "name": "3. Get All Payments (Sets paymentId)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.payments && jsonData.payments.length > 0) {",
                  "        pm.collectionVariables.set('paymentId', jsonData.payments[0].id);",
                  "        console.log('✅ Set paymentId:', jsonData.payments[0].id);",
                  "        console.log('Payment:', jsonData.payments[0].amount, jsonData.payments[0].currency);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments?page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "⚠️ RUN THIS THIRD to set {{paymentId}} variable. This is required for Get Payment by ID and i18n requests."
          }
        }
      ]
    },
    {
      "name": "Health & Info",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has status field\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/actuator/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "actuator",
                "health"
              ]
            }
          }
        },
        {
          "name": "Application Info",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/actuator/info",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "actuator",
                "info"
              ]
            }
          }
        },
        {
          "name": "Metrics",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/actuator/metrics",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "actuator",
                "metrics"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Payments - CRUD Operations",
      "item": [
        {
          "name": "GET - Get All Payments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has payments array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('payments');",
                  "    pm.expect(jsonData.payments).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Response has total count\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('total');",
                  "});",
                  "",
                  "// Auto-extract first payment ID",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.payments && jsonData.payments.length > 0) {",
                  "        pm.collectionVariables.set('paymentId', jsonData.payments[0].id);",
                  "        console.log('✅ Set paymentId:', jsonData.payments[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments?page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "0",
                  "description": "Page number (0-indexed)"
                },
                {
                  "key": "size",
                  "value": "20",
                  "description": "Page size"
                }
              ]
            },
            "description": "Get all payments with pagination. Auto-extracts first payment ID to {{paymentId}} variable."
          }
        },
        {
          "name": "GET - Get Payment by ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure paymentId is set",
                  "if (!pm.collectionVariables.get('paymentId')) {",
                  "    console.log('⚠️ paymentId not set. Run \"Get All Payments\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"Response has payment ID\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "    });",
                  "",
                  "    pm.test(\"Response has required fields\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('amount');",
                  "        pm.expect(jsonData).to.have.property('currency');",
                  "        pm.expect(jsonData).to.have.property('status');",
                  "        pm.expect(jsonData).to.have.property('createdAt');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "Get payment by ID. Uses {{paymentId}} variable. Run \"Get All Payments\" first to set this variable."
          }
        },
        {
          "name": "POST - Create Payment (Standalone - Works Immediately)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has payment ID\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.collectionVariables.set('paymentId', jsonData.id);",
                  "    console.log('✅ Created payment with ID:', jsonData.id);",
                  "});",
                  "",
                  "pm.test(\"Response matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var requestData = JSON.parse(pm.request.body.raw);",
                  "    pm.expect(jsonData.amount).to.eql(requestData.amount);",
                  "    pm.expect(jsonData.currency).to.eql(requestData.currency);",
                  "    pm.expect(jsonData.status).to.eql(requestData.status);",
                  "});",
                  "",
                  "pm.test(\"Response has createdAt timestamp\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('createdAt');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 1000.00,\n  \"currency\": \"USD\",\n  \"status\": \"RECEIVED\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "✅ WORKS IMMEDIATELY - No setup needed! Creates a standalone payment without creditor/debtor. Auto-extracts payment ID to {{paymentId}} variable.\n\nSample data: amount=1000.00, currency=USD, status=RECEIVED",
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ]
            }
          }
        },
        {
          "name": "POST - Create Payment (With Creditor & Debtor)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure creditorId and debtorId are set",
                  "if (!pm.collectionVariables.get('creditorId') || !pm.collectionVariables.get('debtorId')) {",
                  "    console.log('⚠️ creditorId or debtorId not set. Run Setup requests first!');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has payment ID\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.collectionVariables.set('paymentId', jsonData.id);",
                  "    console.log('✅ Created payment with ID:', jsonData.id);",
                  "});",
                  "",
                  "pm.test(\"Response includes creditor and debtor IDs\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var requestData = JSON.parse(pm.request.body.raw);",
                  "    if (requestData.creditorId) {",
                  "        pm.expect(jsonData.creditorId).to.eql(requestData.creditorId);",
                  "    }",
                  "    if (requestData.debtorId) {",
                  "        pm.expect(jsonData.debtorId).to.eql(requestData.debtorId);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 1500.00,\n  \"currency\": \"USD\",\n  \"status\": \"RECEIVED\",\n  \"creditorId\": \"{{creditorId}}\",\n  \"debtorId\": \"{{debtorId}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "⚠️ REQUIRES SETUP: Run \"1. Get All Creditors\" and \"2. Get All Debtors\" first to set {{creditorId}} and {{debtorId}} variables.\n\nCreates a payment with creditor and debtor associations.\n\nSample data: amount=1500.00, currency=USD, status=RECEIVED",
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ]
            }
          }
        },
        {
          "name": "POST - Echo Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has payment ID\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "});",
                  "",
                  "pm.test(\"Response matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var requestData = JSON.parse(pm.request.body.raw);",
                  "    pm.expect(jsonData.amount).to.eql(requestData.amount);",
                  "    pm.expect(jsonData.currency).to.eql(requestData.currency);",
                  "    pm.expect(jsonData.status).to.eql(requestData.status);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 2000.00,\n  \"currency\": \"EUR\",\n  \"status\": \"PROCESSING\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "✅ WORKS IMMEDIATELY - Echo payment (returns and saves the payment). No setup needed.\n\nSample data: amount=2000.00, currency=EUR, status=PROCESSING",
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/echo",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "echo"
              ]
            }
          }
        },
        {
          "name": "GET - Filter Payments by Status (RECEIVED)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All payments have RECEIVED status\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.payments && jsonData.payments.length > 0) {",
                  "        jsonData.payments.forEach(function(payment) {",
                  "            pm.expect(payment.status).to.eql('RECEIVED');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments?status=RECEIVED&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "RECEIVED",
                  "description": "Filter by status: RECEIVED, PROCESSING, COMPLETED, FAILED"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter payments by RECEIVED status. Sample data includes multiple RECEIVED payments."
          }
        },
        {
          "name": "GET - Filter Payments by Currency (EUR)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All payments have EUR currency\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.payments && jsonData.payments.length > 0) {",
                  "        jsonData.payments.forEach(function(payment) {",
                  "            pm.expect(payment.currency).to.eql('EUR');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments?currency=EUR&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ],
              "query": [
                {
                  "key": "currency",
                  "value": "EUR",
                  "description": "Filter by EUR currency"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter payments by EUR currency. Sample data includes EUR payments."
          }
        },
        {
          "name": "GET - Filter Payments by Amount Range",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All payments are within amount range\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.payments && jsonData.payments.length > 0) {",
                  "        jsonData.payments.forEach(function(payment) {",
                  "            pm.expect(payment.amount).to.be.at.least(100);",
                  "            pm.expect(payment.amount).to.be.at.most(2000);",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments?minAmount=100&maxAmount=2000&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ],
              "query": [
                {
                  "key": "minAmount",
                  "value": "100",
                  "description": "Minimum amount"
                },
                {
                  "key": "maxAmount",
                  "value": "2000",
                  "description": "Maximum amount"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter payments by amount range (100-2000). Sample data includes payments in this range."
          }
        }
      ]
    },
    {
      "name": "Creditors - CRUD Operations",
      "item": [
        {
          "name": "GET - Get All Creditors",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has creditors array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('creditors');",
                  "    pm.expect(jsonData.creditors).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Response has total count\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('total');",
                  "});",
                  "",
                  "// Auto-extract first creditor ID",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.creditors && jsonData.creditors.length > 0) {",
                  "        pm.collectionVariables.set('creditorId', jsonData.creditors[0].id);",
                  "        console.log('✅ Set creditorId:', jsonData.creditors[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors?page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Get all creditors with pagination. Auto-extracts first creditor ID to {{creditorId}} variable."
          }
        },
        {
          "name": "GET - Get Creditor by ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure creditorId is set",
                  "if (!pm.collectionVariables.get('creditorId')) {",
                  "    console.log('⚠️ creditorId not set. Run \"Get All Creditors\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"Response has creditor ID\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "    });",
                  "",
                  "    pm.test(\"Response has required fields\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('name');",
                  "        pm.expect(jsonData).to.have.property('accountNumber');",
                  "        pm.expect(jsonData).to.have.property('bankCode');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors/{{creditorId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors",
                "{{creditorId}}"
              ]
            },
            "description": "Get creditor by ID. Uses {{creditorId}} variable. Run \"Get All Creditors\" first to set this variable."
          }
        },
        {
          "name": "POST - Create Creditor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has creditor ID\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.collectionVariables.set('creditorId', jsonData.id);",
                  "    console.log('✅ Created creditor with ID:', jsonData.id);",
                  "});",
                  "",
                  "pm.test(\"Response matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var requestData = JSON.parse(pm.request.body.raw);",
                  "    pm.expect(jsonData.name).to.eql(requestData.name);",
                  "    pm.expect(jsonData.accountNumber).to.eql(requestData.accountNumber);",
                  "    pm.expect(jsonData.bankCode).to.eql(requestData.bankCode);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Corporation\",\n  \"accountNumber\": \"ACC001234567\",\n  \"bankCode\": \"BANK001\",\n  \"email\": \"finance@acme.com\",\n  \"address\": \"123 Business Street, New York, NY 10001\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "✅ WORKS IMMEDIATELY - Create creditor. No setup needed. Auto-extracts creditor ID to {{creditorId}} variable.\n\nSample data matches database sample: Acme Corporation",
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors"
              ]
            }
          }
        },
        {
          "name": "DELETE - Delete Creditor (Soft Delete)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure creditorId is set",
                  "if (!pm.collectionVariables.get('creditorId')) {",
                  "    console.log('⚠️ creditorId not set. Run \"Get All Creditors\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "pm.test(\"Response body is empty\", function () {",
                  "    pm.expect(pm.response.text()).to.be.empty;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors/{{creditorId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors",
                "{{creditorId}}"
              ]
            },
            "description": "Soft delete a creditor by ID. Uses {{creditorId}} variable. Run \"Get All Creditors\" first. After deletion, the creditor will not appear in list requests (soft delete)."
          }
        },
        {
          "name": "GET - Filter Creditors by Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All creditors match name filter\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.creditors && jsonData.creditors.length > 0) {",
                  "        jsonData.creditors.forEach(function(creditor) {",
                  "            pm.expect(creditor.name.toLowerCase()).to.include('acme');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors?name=Acme&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "Acme",
                  "description": "Filter by name (partial match, case-insensitive)"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter creditors by name. Sample data includes 'Acme Corporation'."
          }
        },
        {
          "name": "GET - Filter Creditors by Bank Code",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All creditors have BANK001 bank code\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.creditors && jsonData.creditors.length > 0) {",
                  "        jsonData.creditors.forEach(function(creditor) {",
                  "            pm.expect(creditor.bankCode).to.eql('BANK001');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors?bankCode=BANK001&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors"
              ],
              "query": [
                {
                  "key": "bankCode",
                  "value": "BANK001",
                  "description": "Filter by bank code"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter creditors by bank code BANK001. Sample data includes creditors with BANK001."
          }
        }
      ]
    },
    {
      "name": "Debtors - CRUD Operations",
      "item": [
        {
          "name": "GET - Get All Debtors",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has debtors array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('debtors');",
                  "    pm.expect(jsonData.debtors).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Response has total count\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('total');",
                  "});",
                  "",
                  "// Auto-extract first debtor ID",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.debtors && jsonData.debtors.length > 0) {",
                  "        pm.collectionVariables.set('debtorId', jsonData.debtors[0].id);",
                  "        console.log('✅ Set debtorId:', jsonData.debtors[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors?page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Get all debtors with pagination. Auto-extracts first debtor ID to {{debtorId}} variable."
          }
        },
        {
          "name": "GET - Get Debtor by ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure debtorId is set",
                  "if (!pm.collectionVariables.get('debtorId')) {",
                  "    console.log('⚠️ debtorId not set. Run \"Get All Debtors\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"Response has debtor ID\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "    });",
                  "",
                  "    pm.test(\"Response has required fields\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('name');",
                  "        pm.expect(jsonData).to.have.property('accountNumber');",
                  "        pm.expect(jsonData).to.have.property('bankCode');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors/{{debtorId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors",
                "{{debtorId}}"
              ]
            },
            "description": "Get debtor by ID. Uses {{debtorId}} variable. Run \"Get All Debtors\" first to set this variable."
          }
        },
        {
          "name": "POST - Create Debtor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has debtor ID\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.collectionVariables.set('debtorId', jsonData.id);",
                  "    console.log('✅ Created debtor with ID:', jsonData.id);",
                  "});",
                  "",
                  "pm.test(\"Response matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var requestData = JSON.parse(pm.request.body.raw);",
                  "    pm.expect(jsonData.name).to.eql(requestData.name);",
                  "    pm.expect(jsonData.accountNumber).to.eql(requestData.accountNumber);",
                  "    pm.expect(jsonData.bankCode).to.eql(requestData.bankCode);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"accountNumber\": \"DEB001111111\",\n  \"bankCode\": \"BANK001\",\n  \"email\": \"john.doe@email.com\",\n  \"address\": \"100 Main Street, Boston, MA 02101\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "✅ WORKS IMMEDIATELY - Create debtor. No setup needed. Auto-extracts debtor ID to {{debtorId}} variable.\n\nSample data matches database sample: John Doe",
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors"
              ]
            }
          }
        },
        {
          "name": "DELETE - Delete Debtor (Soft Delete)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure debtorId is set",
                  "if (!pm.collectionVariables.get('debtorId')) {",
                  "    console.log('⚠️ debtorId not set. Run \"Get All Debtors\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "pm.test(\"Response body is empty\", function () {",
                  "    pm.expect(pm.response.text()).to.be.empty;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors/{{debtorId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors",
                "{{debtorId}}"
              ]
            },
            "description": "Soft delete a debtor by ID. Uses {{debtorId}} variable. Run \"Get All Debtors\" first. After deletion, the debtor will not appear in list requests (soft delete)."
          }
        },
        {
          "name": "GET - Filter Debtors by Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All debtors match name filter\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.debtors && jsonData.debtors.length > 0) {",
                  "        jsonData.debtors.forEach(function(debtor) {",
                  "            pm.expect(debtor.name.toLowerCase()).to.include('john');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors?name=John&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "John",
                  "description": "Filter by name (partial match, case-insensitive)"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter debtors by name. Sample data includes 'John Doe'."
          }
        },
        {
          "name": "GET - Filter Debtors by Bank Code",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All debtors have BANK002 bank code\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.debtors && jsonData.debtors.length > 0) {",
                  "        jsonData.debtors.forEach(function(debtor) {",
                  "            pm.expect(debtor.bankCode).to.eql('BANK002');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors?bankCode=BANK002&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors"
              ],
              "query": [
                {
                  "key": "bankCode",
                  "value": "BANK002",
                  "description": "Filter by bank code"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Filter debtors by bank code BANK002. Sample data includes debtors with BANK002."
          }
        }
      ]
    },
    {
      "name": "Internationalization (i18n)",
      "item": [
        {
          "name": "Get Payment (English)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure paymentId is set",
                  "if (!pm.collectionVariables.get('paymentId')) {",
                  "    console.log('⚠️ paymentId not set. Run \"Get All Payments\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "Get payment with English language header. Uses {{paymentId}} variable. Run \"Get All Payments\" first."
          }
        },
        {
          "name": "Get Payment (Spanish)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure paymentId is set",
                  "if (!pm.collectionVariables.get('paymentId')) {",
                  "    console.log('⚠️ paymentId not set. Run \"Get All Payments\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "Get payment with Spanish language header. Uses {{paymentId}} variable. Run \"Get All Payments\" first."
          }
        },
        {
          "name": "Get Payment (Hindi)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure paymentId is set",
                  "if (!pm.collectionVariables.get('paymentId')) {",
                  "    console.log('⚠️ paymentId not set. Run \"Get All Payments\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 404) {",
                  "    pm.test(\"Error message is in Hindi\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        // Check if message contains Hindi characters or common Hindi words",
                  "        pm.expect(jsonData.message).to.be.a('string');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "Get payment with Hindi language header. Uses {{paymentId}} variable. Run \"Get All Payments\" first. Error messages will be in Hindi (हिंदी)."
          }
        },
        {
          "name": "Get Payment (Bengali)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure paymentId is set",
                  "if (!pm.collectionVariables.get('paymentId')) {",
                  "    console.log('⚠️ paymentId not set. Run \"Get All Payments\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 404) {",
                  "    pm.test(\"Error message is in Bengali\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        // Check if message contains Bengali characters",
                  "        pm.expect(jsonData.message).to.be.a('string');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "Get payment with Bengali language header. Uses {{paymentId}} variable. Run \"Get All Payments\" first. Error messages will be in Bengali (বাংলা)."
          }
        }
      ]
    },
    {
      "name": "Validation Tests",
      "item": [
        {
          "name": "Invalid Payment (Negative Amount)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": -10,\n  \"currency\": \"USD\",\n  \"status\": \"RECEIVED\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Test validation: negative amount should return 400 Bad Request",
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ]
            }
          }
        },
        {
          "name": "Invalid Payment (Invalid Currency)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 100.50,\n  \"currency\": \"INVALID\",\n  \"status\": \"RECEIVED\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Test validation: invalid currency code should return 400 Bad Request",
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ]
            }
          }
        },
        {
          "name": "Invalid Payment (Invalid Status)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 100.50,\n  \"currency\": \"USD\",\n  \"status\": \"INVALID_STATUS\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Test validation: invalid status should return 400 Bad Request",
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments"
              ]
            }
          }
        },
        {
          "name": "Invalid Creditor (Empty Fields)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\",\n  \"accountNumber\": \"\",\n  \"bankCode\": \"\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "description": "Test validation: empty required fields should return 400 Bad Request",
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Error Tests",
      "item": [
        {
          "name": "Payment Not Found (404)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData.message).to.include('not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/00000000-0000-0000-0000-000000000000",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "payments",
                "00000000-0000-0000-0000-000000000000"
              ]
            },
            "description": "Test 404 error: non-existent payment ID should return 404 Not Found"
          }
        },
        {
          "name": "Creditor Not Found (404)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData.message).to.include('not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/creditors/00000000-0000-0000-0000-000000000000",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "creditors",
                "00000000-0000-0000-0000-000000000000"
              ]
            },
            "description": "Test 404 error: non-existent creditor ID should return 404 Not Found"
          }
        },
        {
          "name": "Debtor Not Found (404)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has error message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData.message).to.include('not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/debtors/00000000-0000-0000-0000-000000000000",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "debtors",
                "00000000-0000-0000-0000-000000000000"
              ]
            },
            "description": "Test 404 error: non-existent debtor ID should return 404 Not Found"
          }
        }
      ]
    },
    {
      "name": "GraphQL API",
      "item": [
        {
          "name": "GraphQL - Query All Payments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query { payments(page: 0, size: 10) { payments { id amount currency status createdAt } total page size totalPages } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL query to get all payments with pagination. Uses {{language}} variable for error messages."
          }
        },
        {
          "name": "GraphQL - Query Payment by ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure paymentId is set",
                  "if (!pm.collectionVariables.get('paymentId')) {",
                  "    console.log('⚠️ paymentId not set. Run \"Get All Payments\" first.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query { payment(id: \\\"{{paymentId}}\\\") { id amount currency status createdAt creditorId debtorId } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL query to get payment by ID. Uses {{paymentId}} variable. Run \"Get All Payments\" first."
          }
        },
        {
          "name": "GraphQL - Query Payments by Status",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query { paymentsByStatus(status: \\\"RECEIVED\\\", page: 0, size: 10) { payments { id amount currency status } total } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL query to filter payments by status (RECEIVED)."
          }
        },
        {
          "name": "GraphQL - Query Payments by Currency",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query { paymentsByCurrency(currency: \\\"USD\\\", page: 0, size: 10) { payments { id amount currency status } total } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL query to filter payments by currency (USD)."
          }
        },
        {
          "name": "GraphQL - Mutation Create Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has created payment\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.createPayment) {",
                  "        pm.expect(jsonData.data.createPayment).to.have.property('id');",
                  "        pm.collectionVariables.set('paymentId', jsonData.data.createPayment.id);",
                  "        console.log('✅ Created payment ID:', jsonData.data.createPayment.id);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation { createPayment(input: { amount: 1000.00 currency: \\\"USD\\\" status: \\\"RECEIVED\\\" }) { id amount currency status createdAt } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL mutation to create a payment. Auto-extracts payment ID to {{paymentId}} variable."
          }
        },
        {
          "name": "GraphQL - Mutation Create Payment (With Creditor/Debtor)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure creditorId and debtorId are set",
                  "if (!pm.collectionVariables.get('creditorId') || !pm.collectionVariables.get('debtorId')) {",
                  "    console.log('⚠️ creditorId or debtorId not set. Run Setup requests first!');",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation { createPayment(input: { amount: 1500.00 currency: \\\"USD\\\" status: \\\"RECEIVED\\\" creditorId: \\\"{{creditorId}}\\\" debtorId: \\\"{{debtorId}}\\\" }) { id amount currency status creditorId debtorId createdAt } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL mutation to create payment with creditor and debtor. Requires {{creditorId}} and {{debtorId}} variables."
          }
        },
        {
          "name": "GraphQL - Mutation Echo Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept-Language",
                "value": "{{language}}",
                "description": "Language preference. Use {{language}} variable (default: hi - Hindi)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation { echoPayment(input: { amount: 2000.00 currency: \\\"EUR\\\" status: \\\"PROCESSING\\\" }) { id amount currency status createdAt } }\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "graphql"
              ]
            },
            "description": "GraphQL mutation to echo a payment (returns and saves)."
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "creditorId",
      "value": "",
      "type": "string",
      "description": "Auto-populated by Get All Creditors or Create Creditor requests"
    },
    {
      "key": "debtorId",
      "value": "",
      "type": "string",
      "description": "Auto-populated by Get All Debtors or Create Debtor requests"
    },
    {
      "key": "paymentId",
      "value": "",
      "type": "string",
      "description": "Auto-populated by Get All Payments or Create Payment requests"
    },
    {
      "key": "defaultLanguage",
      "value": "hi",
      "type": "string",
      "description": "Default language for API requests (Hindi)"
    },
    {
      "key": "language",
      "value": "hi",
      "type": "string",
      "description": "Language for API requests. Options: hi (Hindi), en (English), es (Spanish), fr (French), de (German), bn (Bengali), ta (Tamil), te (Telugu), kn (Kannada), ru (Russian), zh (Chinese)",
      "options": [
        {
          "key": "hi",
          "value": "hi",
          "description": "Hindi (हिंदी) - Default"
        },
        {
          "key": "en",
          "value": "en",
          "description": "English"
        },
        {
          "key": "es",
          "value": "es",
          "description": "Spanish (Español)"
        },
        {
          "key": "fr",
          "value": "fr",
          "description": "French (Français)"
        },
        {
          "key": "de",
          "value": "de",
          "description": "German (Deutsch)"
        },
        {
          "key": "bn",
          "value": "bn",
          "description": "Bengali (বাংলা)"
        },
        {
          "key": "ta",
          "value": "ta",
          "description": "Tamil (தமிழ்)"
        },
        {
          "key": "te",
          "value": "te",
          "description": "Telugu (తెలుగు)"
        },
        {
          "key": "kn",
          "value": "kn",
          "description": "Kannada (ಕನ್ನಡ)"
        },
        {
          "key": "ru",
          "value": "ru",
          "description": "Russian (Русский)"
        },
        {
          "key": "zh",
          "value": "zh",
          "description": "Chinese (中文)"
        }
      ]
    }
  ]
}